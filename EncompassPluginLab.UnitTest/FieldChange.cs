using Microsoft.VisualStudio.TestTools.UnitTesting;
using EncompassPluginLab;
using System;

namespace EncompassPluginLab.UnitTest
{
    [TestClass]
    public class FieldChange
    {
        [TestMethod]
        public void Loan_FieldChang_FieldChangeEventHandler_ShoulLDUpdateDifferentFields()
        {
            //Arrange 
            // var mockSession = new Mock<ISession>();
            //var mockLoan = new Mock<ILoan>();
            //var plugin = new EncompassPlugin(mockSession.Object);
            //var fieldValueBeforeChange = "OldVal"
            //var fieldValueAfterChange = "NewVal"

            //Set up the field that triggers the event

            //var fieldToMonitor = mockLoan.SetupField<string>(FieldToMonitor, fieldValueBeforeChange)

            //Setup the field that will be updates when the event is triggered

            //var fieldToUpdate = mockLoan.SetUpField<string>(FieldToUpdate, "FoundIt")

            //Create mock event args for the field change event

            //var mockEventArgs = new FieldChangeEventArgs("Cx.Result")

            //Set the prior value
            //mockEventArgs.PriorValue = fieldValueBeforeChange;
            //mockEventArgs.NewValue = fieldValueAfterChange

            //Act
            //Simulate the field change event - 
           // EncompassPlugin.FieldChangeEventHandler(mockLoan.Object, mockEventArgs);


            //Assert
            //Verify the field updated with the correct value
           // Assert.AreEqual(updatedFieldValue, fieldToUpdate.Value);
        }
    }
}
